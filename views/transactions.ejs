<%- include('top'); -%>
<style>
  .btn {
    border-radius: 5px;
    margin: 10px;
  }

  .update,
  .insert,
  .search,
  .Delete {
    margin-left: 15px;
  }
  .table {
    width:70%;
    margin:auto;
  }
  body {
    text-align: center;
    background-image: url(/img/transactions.jpg);
    background-size: cover;
  }
  h1 {
    color: whitesmoke;
  }
  input {
    margin-top: 5px;
  }
</style>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="crossorigin="anonymous"></script>
<h1 style="text-align: center; font-weight:500; font-size: 60px;">Transactions</h1>
<button id="searchbutton" style="margin-top: 50px;" class="btn btn-primary">To Search</button>
<button id="button-delete" style="margin-top: 50px;" class="btn btn-primary">For Deleting</button>
<button id="button-insert" style="margin-top: 50px;" class="btn btn-primary">For Inserting</button>
<button id="button-update" style="margin-top: 50px;" class="btn btn-primary">For Updating</button>


<body>

  <div class="search">

    <form action="/transearch" method="post" autocomplete="off" >
      <label for="search">Enter Transaction ID/Supplier-ID/Description/Board name/Staff-id/Branch_id to search</label>
      <input type="text" name="search" id="search"><br><br>
      <button type="submit" id="searchbtn" class="btn btn-success">Search</button><br>
    </form>
    

  </div>

  <div class="Delete">
    <form action="/transactions" method="post">
    <input type="text" id="tid" name="tid" placeholder="Transaction-ID"><br>
    <button type="submit" id='deletebtn' class="btn btn-success">Delete</button>
  </form>
  </div>

  <div class="insert">
    <form action="/tranins" method="post">
      <input type="text" id="insert_trid" name="insert_trid" placeholder="Transaction-ID"><br>
      <input type="text" id="insert_sid" name="insert_sid" placeholder="Supplier-ID"><br>
      <input type="text" id="insert_desc" name="insert_desc" placeholder="Description"><br>
      <input type="text" id="insert_bname" name="insert_bname" placeholder="Board name"><br>
      <input type="text" id="insert_staffid" name="insert_staffid" placeholder="Staff ID"><br>
      <input type="text" id="insert_branchid" name="insert_branchid" placeholder="Branch id"><br><br>
      <button type="submit" id='insertbtn' class="btn btn-success">Insert</button>
    </form>
  </div>

  <div class="update form-group">
    <h1>Sorry, cant update transactions</h1>
  </div>

  
    <table class="table table-dark " style="margin-top:50px; text-align: center;">
        <thead>
          <tr>
            <th scope="col">Transaction ID</th>
            <th scope="col">Supplier-ID</th>
            <th scope="col">Description</th>
            <th scope="col">Board name</th>
            <th scope="col">Staff-id</th>
            <th scope="col">Branch_id</th>
          </tr>
        </thead>
        <tbody>
            <%  for(var i=0;i<trans_rows.length ;i++){%>
          <tr>
            <th scope="row"><%= trans_rows[i].t_id%></th>
            <td><%= trans_rows[i].sup_id%></td>
            <td><%= trans_rows[i].description%></td>
            <td><%= trans_rows[i].board_name%></td>
            <td><%= trans_rows[i].staff_id%></td>
            <td><%= trans_rows[i].branch_id%></td>
          </tr>
          <%}%>
        </tbody>
      </table>

      
      <script>
        $(".Delete").hide();
        $(".insert").hide();
        $(".update").hide();
        $(".search").hide();

        // $("#Viewtablebtn").hide();


          $("#button-delete").click(function(){
            $(".insert").hide();
            $(".update").hide();
            $(".search").hide();
            $(".Delete").toggle();
          });

          $("#button-insert").click(function(){
            $(".update").hide();
            $(".search").hide();
            $(".Delete").hide();
            $(".insert").toggle();
          });
          $("#button-update").click(function(){
            $(".search").hide();
            $(".Delete").hide();
            $(".insert").hide();
            $(".update").toggle();
          });
          
          $("#searchbutton").click(function(){
            $(".Delete").hide();
            $(".insert").hide();
            $(".update").hide();
            $(".search").toggle();
            
          });
         
          
      </script>

      <%- include('bottom'); -%>